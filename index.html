<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bakery POS with Beautiful Invoice</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #fff7e6;
      padding: 20px;
      max-width: 700px;
      margin: auto;
      color: #4a4a4a;
    }
    h1 {
      text-align: center;
      color: #b35d1d;
      margin-bottom: 25px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
      box-shadow: 0 2px 8px rgb(179 93 29 / 0.25);
      background: #fff;
      border-radius: 8px;
      overflow: hidden;
    }
    th, td {
      padding: 12px 15px;
      text-align: center;
    }
    thead {
      background-color: #b35d1d;
      color: white;
      font-weight: 600;
      font-size: 14px;
    }
    tbody tr:nth-child(even) {
      background-color: #f9f4ec;
    }
    tbody tr:hover {
      background-color: #fde6c9;
    }
    input[type="number"] {
      width: 70px;
      padding: 7px;
      border-radius: 5px;
      border: 1px solid #ccc;
      text-align: center;
      font-size: 14px;
    }
    input[type="number"]:focus {
      border-color: #b35d1d;
      outline: none;
    }
    label {
      font-weight: 600;
      display: block;
      margin-top: 15px;
      font-size: 15px;
      color: #5a5a5a;
    }
    input#discount {
      width: 100px;
      font-size: 14px;
      padding: 7px;
      border-radius: 5px;
      border: 1px solid #ccc;
      margin-top: 5px;
    }
    input#discount:focus {
      border-color: #b35d1d;
      outline: none;
    }
    button {
      background: #b35d1d;
      color: white;
      padding: 15px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 700;
      font-size: 16px;
      width: 100%;
      margin-top: 25px;
      box-shadow: 0 4px 8px rgb(179 93 29 / 0.4);
      transition: background-color 0.3s ease;
    }
    button:hover {
      background: #8b4313;
      box-shadow: 0 6px 12px rgb(139 67 19 / 0.5);
    }
    #result {
      margin-top: 30px;
      border: 1px solid #ddd;
      padding: 20px;
      border-radius: 12px;
      background: #fff;
      box-shadow: 0 4px 12px rgb(179 93 29 / 0.15);
      color: #3b3b3b;
      font-family: 'Courier New', Courier, monospace;
      white-space: pre-wrap;
      line-height: 1.5;
      font-size: 14px;
    }
  </style>
</head>
<body>

  <h1>Bakery POS System</h1>

  <form id="posForm">
    <table>
      <thead>
        <tr>
          <th>Item</th>
          <th>Price (Rs.)</th>
          <th>Quantity</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Bread</td>
          <td>120</td>
          <td><input type="number" min="0" value="0" id="breadQty" /></td>
        </tr>
        <tr>
          <td>Cake</td>
          <td> 1KG 1500</td>
          <td><input type="number" min="0" value="0" id="cakeQty" /></td>
        </tr>
        <tr>
          <td>Cookies</td>
          <td>300</td>
          <td><input type="number" min="0" value="0" id="cookiesQty" /></td>
        </tr>
      </tbody>
    </table>

    <label for="discount">Discount (Rs.)</label>
    <input type="number" min="0" value="0" id="discount" />

    <button type="submit">Calculate & Generate Invoice</button>
  </form>

  <pre id="result"></pre>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script>
    const prices = {
      bread: 120,
      cake: 1500,
      cookies: 300
    };

    const { jsPDF } = window.jspdf;

    function formatLine(item, qty, price, total) {
      // Align each column to fixed width for monospace display
      const padRight = (text, len) => text.toString().padEnd(len, ' ');
      const padLeft = (text, len) => text.toString().padStart(len, ' ');
      return padRight(item, 12) + padLeft(qty, 5) + padLeft(price, 9) + padLeft(total, 10);
    }

    document.getElementById("posForm").addEventListener("submit", function(e) {
      e.preventDefault();

      const breadQty = parseInt(document.getElementById("breadQty").value) || 0;
      const cakeQty = parseInt(document.getElementById("cakeQty").value) || 0;
      const cookiesQty = parseInt(document.getElementById("cookiesQty").value) || 0;
      const discount = parseFloat(document.getElementById("discount").value) || 0;

      const billValue = (breadQty * prices.bread) + (cakeQty * prices.cake) + (cookiesQty * prices.cookies);
      const finalBill = Math.max(0, billValue - discount);

      let invoiceText = "====== SDK Bakery Invoice ======\n\n";
      invoiceText += formatLine("Item", "Qty", "Price", "Total") + "\n";
      invoiceText += "---------------------------------------\n";

      if (breadQty > 0) invoiceText += formatLine("Bread", breadQty, prices.bread, breadQty * prices.bread) + "\n";
      if (cakeQty > 0) invoiceText += formatLine("Cake", cakeQty, prices.cake, cakeQty * prices.cake) + "\n";
      if (cookiesQty > 0) invoiceText += formatLine("Cookies", cookiesQty, prices.cookies, cookiesQty * prices.cookies) + "\n";

      invoiceText += "---------------------------------------\n";
      invoiceText += formatLine("Subtotal:", "", "", billValue.toFixed(2)) + "\n";
      invoiceText += formatLine("Discount:", "", "", discount.toFixed(2)) + "\n";
      invoiceText += "---------------------------------------\n";
      invoiceText += formatLine("Total to Pay:", "", "", finalBill.toFixed(2)) + "\n\n";
      invoiceText += "Thank you for shopping with us!";

      document.getElementById("result").textContent = invoiceText;

      // Generate PDF
      const doc = new jsPDF();

      doc.setFont("courier", "normal");
      doc.setFontSize(18);
      doc.text("SDK Bakery Invoice", 20, 20);
      doc.setFontSize(12);
      const splitText = doc.splitTextToSize(invoiceText, 170);
      doc.text(splitText, 20, 30);

      doc.save("sdk_bakery_invoice.pdf");
    });
  </script>

</body>
</html>
